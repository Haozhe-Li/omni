# ğŸ¤– Omni - å¤šæ™ºèƒ½ä½“ AI åŠ©æ‰‹ç³»ç»Ÿ

<div align="center">
  <img src="./docs/assets/omni_cover.gif" alt="Omni Cover" width="60%" />
  
  <p align="center">
    <strong>ä¸€ä¸ªå¼ºå¤§çš„å¤šæ™ºèƒ½ä½“AIç³»ç»Ÿï¼Œç»“åˆä¸“ä¸šåŒ–æ™ºèƒ½ä½“è¿›è¡Œå…¨é¢ä»»åŠ¡å¤„ç†</strong>
  </p>

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-Latest-green.svg)](https://fastapi.tiangolo.com/)
[![LangChain](https://img.shields.io/badge/LangChain-Latest-orange.svg)](https://langchain.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

[English](README.md) | ç®€ä½“ä¸­æ–‡

</div>

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

Omni æ˜¯ä¸€ä¸ªæ™ºèƒ½å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼Œé€šè¿‡åè°ƒä¸“ä¸šåŒ– AI æ™ºèƒ½ä½“æ¥å¤„ç†å„ç§ä¸åŒçš„ä»»åŠ¡ï¼š

### ğŸ”¬ **ç ”ç©¶æ™ºèƒ½ä½“**

- é«˜çº§ç½‘ç»œæœç´¢å’Œä¿¡æ¯æ£€ç´¢
- å†…å®¹æ‘˜è¦å’Œåˆ†æ
- å®æ—¶æ•°æ®æ”¶é›†ä¸ç¼“å­˜

### ğŸ’» **ç¼–ç¨‹æ™ºèƒ½ä½“**

- ä»£ç ç”Ÿæˆå’Œè°ƒè¯•
- å¤šè¯­è¨€ç¼–ç¨‹æ”¯æŒ
- ä»£ç å®¡æŸ¥å’Œä¼˜åŒ–

### ğŸ§® **æ•°å­¦æ™ºèƒ½ä½“**

- å¤æ‚æ•°å­¦é—®é¢˜æ±‚è§£
- ç»Ÿè®¡åˆ†æå’Œè®¡ç®—
- å…¬å¼æ¨å¯¼å’Œè§£é‡Š

### ğŸŒ **ç½‘é¡µæµè§ˆæ™ºèƒ½ä½“**

- æ™ºèƒ½ç½‘é¡µæŠ“å–
- å†…å®¹æå–å’Œå¤„ç†
- URL åˆ†æå’Œæ‘˜è¦

### â˜ï¸ **å¤©æ°”æ™ºèƒ½ä½“**

- å®æ—¶å¤©æ°”ä¿¡æ¯
- åŸºäºä½ç½®çš„å¤©æ°”é¢„æŠ¥
- å¤©æ°”æ•°æ®åˆ†æ

### ğŸ“ **æ‘˜è¦æ™ºèƒ½ä½“**

- æ–‡æ¡£å’Œå†…å®¹æ‘˜è¦
- å…³é”®è§è§£æå–
- å¤šæ ¼å¼å†…å®¹å¤„ç†

### ğŸ¯ **æ™ºèƒ½è·¯ç”±**

- åŸºäºæŸ¥è¯¢ç±»å‹çš„æ™ºèƒ½æ™ºèƒ½ä½“é€‰æ‹©
- æ™ºèƒ½ä½“é—´æ— ç¼åˆ‡æ¢
- ä¼˜åŒ–å“åº”ç”Ÿæˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- Git

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**

   ```bash
   git clone https://github.com/Haozhe-Li/omni.git
   cd omni
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   pip install -r requirements.txt
   ```

3. **è®¾ç½®ç¯å¢ƒå˜é‡**

   ```bash
   cp .env.example .env
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ·»åŠ ä½ çš„APIå¯†é’¥
   ```

4. **è¿è¡Œåº”ç”¨ç¨‹åº**

   ```bash
   uvicorn main:app --reload
   ```

5. **è®¿é—® API**
   - API æ–‡æ¡£: `http://localhost:8000/docs`
   - äº¤äº’å¼ API: `http://localhost:8000/redoc`

## ğŸ³ Docker éƒ¨ç½²

ä½¿ç”¨ Docker æ„å»ºå’Œè¿è¡Œï¼š

```bash
# æ„å»ºé•œåƒ
docker build -t omni .

# è¿è¡Œå®¹å™¨
docker run -p 8080:8080 --env-file .env omni
```

## ğŸ“– API ä½¿ç”¨

### æµå¼èŠå¤©æ¥å£

å‘å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå‘é€æŸ¥è¯¢ï¼š

```bash
curl -X POST "http://localhost:8000/stream" \
  -H "Content-Type: application/json" \
  -d '{
    "messages": [{"role": "user", "content": "ä¸œäº¬çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"}],
    "mode": "supervisor",
    "location": "Tokyo, Japan",
    "useCache": true
  }'
```

### è‡ªåŠ¨è¡¥å…¨å»ºè®®

è·å–æ™ºèƒ½è‡ªåŠ¨è¡¥å…¨å»ºè®®ï¼š

```bash
curl -X POST "http://localhost:8000/autocomplete" \
  -H "Content-Type: application/json" \
  -d '{
    "prefix": "ä»Šå¤©å¤©æ°”",
    "max_suggestions": 5
  }'
```

### æŸ¥è¯¢å»ºè®®

è·å–ç›¸å…³æŸ¥è¯¢å»ºè®®ï¼š

```bash
curl -X POST "http://localhost:8000/suggestion" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "æœºå™¨å­¦ä¹ ç®—æ³•"
  }'
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI åº”ç”¨  â”‚â”€â”€â”€â”€â”‚    ç›‘ç£å™¨       â”‚â”€â”€â”€â”€â”‚  æ™ºèƒ½ä½“è·¯ç”±å™¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚        ä¸“ä¸šåŒ–æ™ºèƒ½ä½“              â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚  ç ”ç©¶ â”‚ ç¼–ç¨‹ â”‚ æ•°å­¦ â”‚ ...      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    å¤–éƒ¨æœåŠ¡ & ç¼“å­˜               â”‚
                    â”‚  å‘é‡æ•°æ®åº“ â”‚ æœç´¢ â”‚ å¤©æ°”        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# LLMé…ç½®
OPENAI_API_KEY=ä½ çš„openai_api_key
GROQ_API_KEY=ä½ çš„groq_api_key

# æœç´¢é…ç½®
SERPER_API_KEY=ä½ çš„serper_api_key

# å¤©æ°”é…ç½®
OPENWEATHERMAP_API_KEY=ä½ çš„weather_api_key

# ç¼“å­˜é…ç½®
INGEST_CACHE=true
```

### æ™ºèƒ½ä½“æ¨¡å¼

- **`supervisor`**: å…·æœ‰æ™ºèƒ½è·¯ç”±çš„å®Œæ•´å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ
- **`light`**: è½»é‡çº§å•æ™ºèƒ½ä½“æ¨¡å¼ï¼Œå“åº”æ›´å¿«

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

- **è¯­ä¹‰ç¼“å­˜**: æ™ºèƒ½å“åº”ç¼“å­˜ï¼ŒåŠ å¿«æŸ¥è¯¢é€Ÿåº¦
- **å‘é‡æ•°æ®åº“**: é«˜æ•ˆç›¸ä¼¼æ€§æœç´¢å’Œæ£€ç´¢
- **æµå¼å“åº”**: å®æ—¶å“åº”æµä¼ è¾“
- **è‡ªåŠ¨è¡¥å…¨**: å¢å¼ºçš„ Trie æ ‘è‡ªåŠ¨è¡¥å…¨ç³»ç»Ÿ
- **å¤šè¯­è¨€æ”¯æŒ**: è‡ªåŠ¨è¯­è¨€æ£€æµ‹å’Œå“åº”åŒ¹é…

## ğŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼š

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
python tests/test_trie.py

# ä½¿ç”¨Jupyter notebookè¿›è¡Œäº¤äº’å¼æµ‹è¯•
jupyter lab tests/
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
omni/
â”œâ”€â”€ core/                    # æ ¸å¿ƒç³»ç»Ÿç»„ä»¶
â”‚   â”œâ”€â”€ agents/             # ä¸“ä¸šåŒ–æ™ºèƒ½ä½“å®ç°
â”‚   â”œâ”€â”€ embedding.py        # æ–‡æœ¬åµŒå…¥å·¥å…·
â”‚   â”œâ”€â”€ supervisors.py      # æ™ºèƒ½ä½“åè°ƒ
â”‚   â”œâ”€â”€ vectordb.py         # å‘é‡æ•°æ®åº“æ¥å£
â”‚   â””â”€â”€ utils.py            # å·¥å…·å‡½æ•°
â”œâ”€â”€ models/                 # é¢„è®­ç»ƒæ¨¡å‹å’Œæ•°æ®
â”œâ”€â”€ tests/                  # æµ‹è¯•æ–‡ä»¶å’Œnotebook
â”œâ”€â”€ docs/                   # æ–‡æ¡£å’Œèµ„æº
â”œâ”€â”€ main.py                 # FastAPIåº”ç”¨ç¨‹åºå…¥å£ç‚¹
â”œâ”€â”€ requirements.txt        # Pythonä¾èµ–
â””â”€â”€ Dockerfile             # å®¹å™¨é…ç½®
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

1. Fork è¿™ä¸ªä»“åº“
2. åˆ›å»ºä½ çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [LangChain](https://langchain.com/) æä¾›æ™ºèƒ½ä½“æ¡†æ¶
- [FastAPI](https://fastapi.tiangolo.com/) æä¾› Web æ¡†æ¶
- [Qdrant](https://qdrant.tech/) æä¾›å‘é‡æ•°æ®åº“èƒ½åŠ›

## ğŸ“ æ”¯æŒ

å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [æ–‡æ¡£](docs/)
2. æœç´¢ç°æœ‰ [issues](https://github.com/Haozhe-Li/omni/issues)
3. å¦‚æœ‰éœ€è¦åˆ›å»ºæ–°çš„ issue

---

<div align="center">
  <sub>ç”¨ â¤ï¸ æ„å»ºï¼Œä½œè€… <a href="https://github.com/Haozhe-Li">Haozhe Li</a></sub>
</div>
